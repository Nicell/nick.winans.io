---
import giscusCSS from "../../public/giscus.css?raw";
const cssUrl =
  import.meta.env.MODE === "development"
    ? `data:text/css;utf8,${encodeURIComponent(giscusCSS)}`
    : new URL("giscus.css", Astro.site);
---

<script
  is:inline
  src="/giscus.js"
  data-repo="Nicell/nick.winans.io"
  data-repo-id="R_kgDOGfcYzg"
  data-category="Blog Comments"
  data-category-id="DIC_kwDOGfcYzs4CmXNt"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme={cssUrl}
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  defer></script>
<style is:global>
  .giscus,
  .giscus-frame {
    width: 100%;
    min-height: 150px;
  }
  .giscus-frame {
    border: none;
    color-scheme: light dark;
  }
  .giscus-frame--loading {
    opacity: 0;
  }
</style>
