---
import { Picture } from '@astrojs/image/components';
import Layout from '../layouts/Layout.astro';

export interface Props {
  content: {
    title: string;
    url: string;
    description: string;
    date: string;
    minutesRead: string;
    hero: string;
  }
}
const { content } = Astro.props as Props;
const heroes = (await import.meta.glob("../pages/blog/**/hero.png"));
const hero = (await heroes[`../pages${content.url}/hero.png`]()).default;
---

<Layout title={content.title + ' - nick.winans.io'} description={content.description} blog={true}>
  <main class="container mx-auto max-w-screen-md p-4 prose prose-a:text-blue-600 prose-img:rounded-xl prose-img:shadow-lg">
    <Picture formats={['avif', 'webp', 'jpeg']} class="w-full mt-0 aspect-[16/9]" alt="" widths={[1600, 800]} sizes="(max-width: 800px) 100vw, 800px" aspectRatio="16:9" src={hero}/>
    <div class="not-prose">
      <a class="link" href="/blog">‚Üê Go Back</a>
    </div>
    <h1 class="font-display">{content.title}</h1>
    <div class="flex items-center pl-2">
      <span>{content.date}</span>
      <span class="divider divider-horizontal"/>
      <span class="badge badge-outline">{content.minutesRead}</span>
    </div>
    <article>
      <slot />
    </article>
  </main>
  <footer class="container mx-auto max-w-screen-md p-4 text-center">
    &copy; {new Date().getFullYear()} Nick Winans
  </footer>
  <style is:global>
    article .heading-group {
      position: relative;
    }
    .heading-group > a {
      opacity: 0;
      position: absolute;
      right: 100%;
      top: 0;
      transition: opacity 0.15s ease;
      padding-right: 0.5rem;
    }
    article .heading-group:hover a {
      opacity: 1;
    }
  </style>
</Layout>
